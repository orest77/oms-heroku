<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD//EN"
                                         "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<hibernate-configuration>
	<session-factory>
		
		<!-- /MYPC:1433/Blog;instance=SQLEXPRESS local connection properties -->
	<!--	<property name="hibernate.connection.driver_class">net.sourceforge.jdbc.Driver</property>
		<property name="hibernate.dialect">org.hibernate.dialect.PostgreSQL96Dialect</property> -->
		<!--<property name="hibernate.connection.url">jdbc:jtds:sqlserver://streamer2005.softserveinc.com/_055_OMS;instance=tc;</property>-->


		<bean class="java.net.URI" id="dbUrl">
    		<constructor-arg value="#{systemEnvironment['CLEARDB_DATABASE_URL']}"/>
		</bean>

		<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource">
    
		</bean>


		<property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
		<property name="hibernate.dialect">org.hibernate.dialect.MySQLDialect</property> 
		<property name="hibernate.connection.url">#{ 'jdbc:mysql://' + @dbUrl.getHost() + @dbUrl.getPath() }</property>
		<property name="hibernate.connection.username">#{ @dbUrl.getUserInfo().split(':')[0] }</property>
		<property name="hibernate.connection.password">#{ @dbUrl.getUserInfo().split(':')[1] }</property>

		
		<property name="hibernate.hbm2ddl.auto">validate</property>

		<!--<property name="show_sql">true</property> <property name="format_sql">true</property> thread-->
		<mapping class="com.softserveinc.edu.oms.domain.entities.Role" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.Region" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.CustomerType" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.User" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.OrderStatus" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.Order" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.Product" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.Dimension" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.OrderItem" />
		<mapping class="com.softserveinc.edu.oms.domain.entities.CreditCardType" />
		</bean>
	</session-factory>
</hibernate-configuration>

